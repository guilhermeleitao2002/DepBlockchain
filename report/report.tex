% This is samplepaper.tex, a sample chapter demonstrating the LLNCS macro
% package for Springer Computer Science proceedings; Version 2.21 of 2022/01/12
%
\documentclass[runningheads]{llncs}
%
\usepackage[T1]{fontenc}
% T1 fonts will be used to generate the final print and online PDFs, so please
% use T1 fonts in your manuscript whenever possible. Other font encondings may
% result in incorrect characters.
%
\usepackage{graphicx}
% Used for displaying a sample figure. If possible, figure files should be
% included in EPS format.
%
% If you use the hyperref package, please uncomment the following two lines to
% display URLs in blue roman font according to Springer's eBook style:
% \usepackage{color} \renewcommand\UrlFont{\color{blue}\rmfamily} \urlstyle{rm}
%
\begin{document}
%
\title{DepChain - Stage 1}
%
%\titlerunning{Abbreviated paper title} If the paper title is too long for the
% running head, you can set an abbreviated paper title here
%
\author{Simão de Melo Rocha Frias Sanguinho\inst{1}\orcidID{102082} \and José
Augusto Alves Pereira\inst{1}\orcidID{103252} \and Guilherme Silvério de
Carvalho Romeiro Leitão\inst{1}\orcidID{99951}}
%
\authorrunning{S. Sanguinho, J. Pereira, G. Leitão.}
% First names are abbreviated in the running head. If there are more than two
% authors, 'et al.' is used.
%
\institute{Instituto Superior Técnico, Lisboa, Portugal}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
This project aims to develop a simplified permissioned block-chain system, named
Dependable Chain (DepChain), with high dependability guarantees. The system is
designed to be built iteratively, with the first stage focusing on the
communication and consensus layer of a simple blockchain implementation, and the
development of a client and a library that can interact with the blockchain
system. The project leverages the Byzantine Read/Write Epoch Consensus
algorithm, with simplifying assumptions such as static system membership, a
predefined leader process, and a Public Key Infrastructure (PKI). For message
communication, the implementation will use authenticated perfect links, with the
assumption that the  network  is  unreliable:  it  can  drop,  delay, duplicate,
or  corrupt messages, and communication channels are not secured. The
implementation is structured in Java, utilizing the Java Crypto API for
cryptographic functions, and is designed to handle malicious behavior from a
subset of blockchain members while ensuring safety and liveness under the
assumption of a correct leader. The final submission for stage 1 includes a
self-contained zip archive with the source code, demo tests, and a concise
report detailing the design, threats, and dependability guarantees of the
system.
%
\keywords{Blockchain \and Byzantine Fault Tolerance \and Consensus Algorithm \and Dependability \and Java Implementation}
\end{abstract}
%
\section{Introduction}
This report presents the design and implementation of a Byzantine Fault Tolerant
(BFT) blockchain service, designed to withstand malicious behavior from a subset
of blockchain members and operate reliably in an unstable network environment.
The system is resilient to arbitrary (Byzantine) behavior from faulty nodes and
can handle unreliable network conditions, including message drops, delays,
duplication, and corruption, without relying on secure communication channels.
To achieve consensus in such adversarial conditions, the project uses the
Byzantine Read / Write Epoch Consensus algorithm, as described in the course
book [1] (Algorithms 5.17 and 5.18). The report outlines the system
architecture, which includes the network, client, library, blockchain, and
consensus layers. It also describes how the system addresses various Byzantine
attack scenarios, ensuring safety and liveness under the assumption of a correct
leader. Finally, the report concludes with key findings, lessons learned, and
potential areas for future improvement.
%
\section{Architecture}
\subsection{Network Layer}
The network layer is responsible for managing the communication any two
processes (members or clients) in the system. By replicating Authenticated
Perfect Links, the network layer ensures that messages are guaranteed to be
eventually delivered to the intended recipient, with it's integrity and
authenticity preserved. There are three main components in the network layer: 

- Message, which encapsulates the message content and metadata. It contains the
type field to identify the message type (e.g., READ, STATE, ACK, etc.). It's
also this component that will be signed by the sender and verified by the
receiver. 

- PerfectLink, which implements the core communication logics, including
sending, receiving and managing sessions (explained next). To simulate the
unreliable network, we use UDP sockets. 

- Session, which represents a communication session between two processes. The
session contains information like the destination process ID, address, session
key, and counters for tracking sent and acknowledged messages. The session key
is used for encrypting and signing messages (because using the public key for
every message would be too expensive).
\subsubsection{Session Establishment}

Before any communication can occur, a session must be established between two
processes. The session establishment process is as follows: A process initiates
a session by sending a STARTSESSION message. Then, the recipient responds with a
ACKSESSION message, containing an encrypted session key. Once the session is
established, all subsequent messages are signed and verified using the session
key to ensure authenticity and integrity.
%
\subsection{Client and Library Layer}
The client layer and library layer work together to enable clients to interact
with the distributed system, specifically to append messages to the blockchain.
The client layer handles user interaction and initialization, while the library
layer manages the communication logic with the system's leader process.
\subsubsection{Normal Workflow}
A user will issue the append <message> command via the client's CLI. The client
layer will delegate the request to the library layer. Then, the library will
construct a CLIENTREQUEST message and sends it to the leader process (known
beforehand) using PerfectLink. Next, the library will wait for CLIENTREPLY from
F+1 processes.

%
\subsection{Blockchain Layer}
liquam facilisis ante lacus, at scelerisque libero iaculis non. Etiam ex velit,
iaculis blandit tristique ac, imperdiet a lectus. Etiam condimentum pharetra
lectus non elementum. Cras quis bibendum erat. Aliquam massa tortor, euismod a
venenatis eget, convallis ut odio. Pellentesque habitant morbi tristique
senectus et netus et malesuada fames ac turpis egestas. Integer imperdiet urna
ipsum, nec tempor libero tincidunt ut. Proin in sapien arcu.
%
\subsection{Consensus Layer}
Proin sed vehicula magna. Cras a iaculis velit, eu fermentum nisl. Pellentesque
at magna in massa scelerisque suscipit sed ac tortor. Vivamus a bibendum leo,
eget blandit felis. Donec vulputate ultrices dignissim. Donec vel elit a massa
pellentesque euismod eget at velit.
%
\section{Implementation details}
\subsection{Detail XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Detail XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Detail XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Detail XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\section{Possible threats and corresponding protection mechanisms} To
demonstrate the system's resilience against various Byzantine scenarios, the
implementation was tested under multiple configurations, each representing a
different type of attack. The following sections provide a detailed explanation
of how each attack is executed and how the system effectively mitigates it.
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\subsection{Threat XYZ}
Cras quis bibendum erat. Aliquam massa tortor, euismod a venenatis eget,
convallis ut odio. Pellentesque habitant morbi tristique senectus et netus et
malesuada fames ac turpis egestas.
%
\section{Conclusion}
Donec vulputate ultrices dignissim. Donec vel elit a massa pellentesque euismod
eget at velit. Aliquam eget est et urna auctor sodales. Aenean vulputate finibus
libero ac pretium. Etiam lacinia ultrices odio, vitae bibendum metus accumsan
sed. Etiam sit amet condimentum eros, pulvinar pharetra nisi. Phasellus ac purus
a libero euismod ultrices. Duis feugiat, mi id facilisis blandit, magna magna
commodo ante, ut porta lacus justo ut neque. Donec eget nisl feugiat, pretium
libero eu, mollis dolor.

\begin{thebibliography}{8}

\bibitem{ref_book1}
Christian Cachin, Rachid Guerraoui, Luís Rodrigues: Introduction to Reliable and
Secure Distributed Programming. 2nd edn. Springer, 2011

\bibitem{ref_url1}
Java Crypto API,
\url{https://docs.oracle.com/javase/8/docs/api/javax/crypto/package-summary.html}
\end{thebibliography}
\end{document}
